<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.17.0/font/bootstrap-icons.css">
    <link th:href="@{/assets/css/style_1.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/assets/css/style_2.css}" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css">

    <title>Đăng Nhập</title>
    <!-- Favicons -->
    <link href="/assets/img/FPTLOGO.png" rel="icon">
    <link href="/assets/img/apple-touch-icon.png" rel="apple-touch-icon">
</head>

<body>
<div id="wrapper">
    <!--Success message-->
    <div th:if="${param.registerSuccess}">
        <div style="color: greenyellow; text-align: center;" class="alert alert-info"> You are successfull registered to our awsome app!</div>
    </div>
    <form th:action="@{/FAcademy/login}" id="form-login" method="post">
        <h1 class="form-heading">Đăng Nhập</h1>
        <div class="form-group">
            <i class="far fa-user"></i>
            <input type="text" class="form-input" placeholder="Email" name="username">
        </div>
        <div class="form-group">
            <i class="fas fa-key"></i>
            <input type="password" class="form-input" placeholder="Password" name="password">
            <div id="eye">
                <i class="far fa-eye"></i>
            </div>
        </div>
        <a style="color:white;" href="ForgotPassword.html">Forgot Password?</a>
        <a style="color: white; margin-left: 152px;" th:href="@{/FAcademy/registration}">Register</a>
        <button type="submit" class="form-submit">Đăng nhập</button>
        <br>
        <br>
        <div style="display:flex; justify-content: center;">
            <p style="color:white; text-align: center; ">Or Login With</p>
            <a th:href="@{/oauth2/authorization/google}" style="margin-left: 10px;" >
                <img src="/assets/img/googoo.png" width="25px" height="25px" alt="alt"/>
            </a>
        </div>
        <p style="color: red; text-align: center;" th:text="${session.errorMessage}"></p>
    </form>

</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const passwordField = document.querySelector("input[name='password']");
        const togglePassword = document.getElementById("eye");

        togglePassword.addEventListener("click", function() {
            const type = passwordField.getAttribute("type") === "password" ? "text" : "password";
            passwordField.setAttribute("type", type);
            this.querySelector("i").classList.toggle("fa-eye");
            this.querySelector("i").classList.toggle("fa-eye-slash");
        });
    });
</script>

<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script th:href="@{/assets/js/app.js.js}"></script>

</body>
</html>
